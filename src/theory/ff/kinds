# kinds                                                               -*- sh -*-
#
# For documentation on this file format, please refer to
# src/theory/builtin/kinds.
#

theory THEORY_FF \
    ::cvc5::internal::theory::ff::TheoryFiniteFields \
    "theory/ff/theory_ff.h"
typechecker "theory/ff/theory_ff_type_rules.h"
rewriter ::cvc5::internal::theory::ff::TheoryFiniteFieldsRewriter \
    "theory/ff/theory_ff_rewriter.h"

properties parametric
properties check

# Finite Fields
constant FINITE_FIELD_TYPE \
  struct \
  FfSize \
  "::cvc5::internal::FfSizeHashFunction" \
  "util/finite_field_value.h" \
  "finite field type"

cardinality FINITE_FIELD_TYPE \
    "::cvc5::internal::theory::ff::FiniteFieldProperties::computeCardinality(%TYPE%)" \
    "theory/ff/theory_ff_type_rules.h"

enumerator FINITE_FIELD_TYPE \
    "::cvc5::internal::theory::ff::FiniteFieldEnumerator" \
    "theory/ff/type_enumerator.h"

well-founded FINITE_FIELD_TYPE \
    true \
    "(*cvc5::internal::theory::TypeEnumerator(%TYPE%))" \
    "theory/type_enumerator.h"

constant CONST_FINITE_FIELD \
  class \
  FiniteFieldValue \
  ::cvc5::internal::FiniteFieldValueHashFunction \
  "util/finite_field_value.h" \
  "a finite-field constant; payload is an instance of the cvc5::internal::FiniteFieldValue class"

# Maybe handle well-foundness ? 
operator FINITE_FIELD_IDEAL 1: "a polynomial Ideal generated by one or more finite fields polynomials"
cardinality FINITE_FIELD_IDEAL "Cardinality(Cardinality::INTEGERS)"

## ffmetic kinds
operator FINITE_FIELD_MULT 2: "multiplication of two or more field elements"
operator FINITE_FIELD_NEG 1 "unary negation of a field element"
operator FINITE_FIELD_ADD 2: "addition of two or more field elements"
operator FINITE_FIELD_BITSUM 2: "bitsum of field elements"

# TODO: Add a type-checker for both operators. 
operator FINITE_FIELD_IDEAL_MEMBERSHIP 2: "ideal membership predicate; first parameter is a member of the second; second parameter must be an application of FINITE_FIELD_IDEAL"
operator FINITE_FIELD_NON_NULL_VAR 1: "non null variety predicate: states that the variety of an ideal is non-empty."

typerule CONST_FINITE_FIELD ::cvc5::internal::theory::ff::FiniteFieldConstantTypeRule
typerule FINITE_FIELD_MULT ::cvc5::internal::theory::ff::FiniteFieldFixedFieldTypeRule
typerule FINITE_FIELD_NEG ::cvc5::internal::theory::ff::FiniteFieldFixedFieldTypeRule
typerule FINITE_FIELD_ADD ::cvc5::internal::theory::ff::FiniteFieldFixedFieldTypeRule
typerule FINITE_FIELD_BITSUM ::cvc5::internal::theory::ff::FiniteFieldFixedFieldTypeRule

typerule FINITE_FIELD_IDEAL  ::cvc5::internal::theory::ff::FiniteFieldIdeal
typerule FINITE_FIELD_IDEAL_MEMBERSHIP  ::cvc5::internal::theory::ff::FiniteFieldIdealMembership
typerule FINITE_FIELD_NON_NULL_VAR  ::cvc5::internal::theory::ff::FiniteFieldNonNullVar


endtheory

